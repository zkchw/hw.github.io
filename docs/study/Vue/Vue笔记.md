# Vue笔记

> 最近由于作业的原因，又重新接触了许久没碰过的Vue。
>
> 有时候看到不错的文章或者技巧就摘录、分享。

## 1. JavaScript模块化

> [JavaScript 模块化：CommonJS、AMD、CMD、UMD 和 ES6 Module](https://www.jianshu.com/p/6e688c482b38)

### 1. CommonJS

​	按照声明的导入次序顺序加载模块。通常用于node.js这类服务端JS代码中。客户端则往往需要异步加载多个模块，不适合使用CommonJS。

### 2. ES6 Module

​	异步导入，编译期加载。通常浏览器使用。

### 3. 常用的CommonJS和ES6 Module的差异*(摘至上方引用文章)*

**1. CommonJS 支持动态导入，也就是 `require(${path}/xx.js)` ，ES6 目前还不支持，但是已有提案。**

**2. CommonJS 是同步导入，ES6是异步导入。**

+ CommonJS 因为用于服务端，文件都在本地，同步导入即使卡住主线程影响也不大。

+ ES6 因为用于浏览器，需要下载文件，如果也采用同步导入会对渲染有很大影响。

**3. CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。**

 - CommonJS 模块输出的是值的拷贝，也就是说，一旦输出一个值，模块内部的变化就影响不到这个值；另一方面，如果导出的值变了，导入的值也不会变，所以如果想更新值，必须重新导入一次。
 - ES6 采用实时绑定的方式，导入和导出的值都指向同一个内存地址，所以导入的值会跟随导出的值变化。

**4. CommonJS 模块是运行时加载，ES6 模块是编译时加载。**

+ CommonJS 模块就是一个对象，在导入时先加载整个模块，生成一个对象( 这个对象只有在脚本运行完才会生成 )，然后再从这个对象上读取方法，这种加载称为“运行时加载”。
+ ES6 模块不是对象，它的对外接口只是一种静态定义，在代码运行之前( 即编译时 )的静态解析阶段就完成了模块加载，比 CommonJS 模块的加载方式更高效。